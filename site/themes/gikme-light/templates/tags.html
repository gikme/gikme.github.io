{# XXX: make this configurable? #}
{%- set TAG_MIN_EM = 0.75 -%}
{%- set TAG_MAX_EM = 2.5 -%}
{%- macro tag_url(t) -%}{{ SITE_URL }}/tag/{{ t.0 }}.html{%- endmacro -%}
{%- macro tagprio_to_fontsz(p) -%}
    {{ ((TAG_MAX_EM - TAG_MIN_EM) / (TAG_CLOUD_STEPS - 1) * (TAG_CLOUD_STEPS - p)) + TAG_MIN_EM }}em
{%- endmacro -%}

{% extends "base.html" %}
{% block ephemeral_nav %}

                {{ ephemeral_nav_link("tags", output_file, True) }}
{%- endblock %}

{% block content %}
                <section class="article">
                    <header class="article__header">
                        <h1 class="article__title">Архив</h1>
                    </header>
                    <div class="article__content">
                        <div class="post archives">
                            <ul>
                                {% for tag, articles in tags|sort %}
                                    <li><a href="{{ SITEURL }}/{{ tag.url }}" class="link">{{ tag }}</a> ({{ articles|count }})</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </section>
                {# {% for tag in tag_cloud -%}
                <a class="tag" href="{{ tag_url(tag) }}" style="font-size: {{ tagprio_to_fontsz(tag.1) }};" title="{{ tag.0 }}">{{ tag.0 }}</a>
                {% else %}
                <h1>Нет тегов!</h1>
                Вот отстой...
                {% endfor %} #}
{% endblock %}
